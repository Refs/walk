!function(e){"use strict";function o(){var e;return e={exceptions:{classNotFound:function(e){throw"Exception thrown during object traversal. No associated class found for key: '"+e+"'."}},configDefaults:{log:!1,classMap:{},classDefinitions:{},enforceRootClass:!1,strictClasses:!1,rootObjectCallbacks:!0,runCallbacks:!0,callbacks:[]},walk:function(o,n,a){var s=this;return s.config=s.configDefaults,Object.assign(s.config,a),s.execute=function(){s.traverse(void 0,o,void 0,void 0,void 0,n,void 0,!0)},s.log=function(e,o){1==s.config.log&&("undefined"==typeof o&&(o="log"),"group"===o?"undefined"!=typeof console.group&&console.group.apply(console,e):"groupEnd"===o?"undefined"!=typeof console.groupEnd&&console.groupEnd.apply(console,e):"log"===o&&console.log.apply(console,e))},s.execCallbacks=function(e,o,n,a,s,c,i,t){for(var l=0;l<e.length;++l)e[l].callback(o,n,a,s,c,i,t)},s.matchedCallbacks=function(e,o,n,a,c){var i=s.config.runCallbacks,t=[];if(i)for(var l=s.config.callbacks,r=0;r<l.length;++r){var f=l[r];if(("undefined"==typeof f.positions||-1!==f.positions.indexOf(a))&&!("undefined"!=typeof f.containers&&-1===f.containers.indexOf(e)||"undefined"!=typeof f.classNames&&-1===f.classNames.indexOf(o))){var u="undefined"!=typeof f.keys,d="undefined"!=typeof f.classKeys;if(u||d){if("undefined"==typeof n)continue;if(u){if(-1===f.keys.indexOf(n))continue}else if("undefined"==typeof c||"undefined"==typeof f.classKeys[c]||-1===f.classKeys[c].indexOf(n))continue}t.push(f)}}return t},s.traverse=function(o,n,c,i,t,l,r,f){var u,d=o,p=n,g=r;"undefined"==typeof f&&(f=!1);var v=!("undefined"==typeof p||null==p);if(u=v&&p.constructor==Array?"array":v&&p.constructor==Object?"object":"value","undefined"==typeof l){var y=a.classMap,k=!y||!s.config.classMap[d],b=!f||f&&s.config.enforceRootClass;s.config.strictClasses&&k&&b&&"object"==u?e.exceptions.classNotFound(d):k||(l=a.classMap[d])}var C=s.matchedCallbacks(u,l,d,"preWalk",g);s.execCallbacks(C,d,p,l,c,i,t,f);var h=d?d+" -->":"";if("array"==u){var i=p;s.log([h,"Array  ( Class:",l,")"],"group"),p.forEach(function(e){s.traverse(void 0,e,c,i,d,l,l,!1)}),s.log(void 0,"groupEnd")}else if("object"==u){s.log([h,"Object ( Class:",l,")"],"group");for(var x in p)p.hasOwnProperty(x)&&s.traverse(x,p[x],p,void 0,void 0,void 0,l,!1);s.log(void 0,"groupEnd")}else s.log([h,p," ( Class:",l,")"]);var C=s.matchedCallbacks(u,l,d,"postWalk",g);s.execCallbacks(C,d,p,l,c,i,t,f)},this.execute()},flatten:function(o,n,a){var s=[];return e.walk(o,void 0,{callbacks:[{keys:[n],callback:function(e,o){s.push(o)}}]}),a?e.unique(s):s},unique:function(e){var o={};return e.filter(function(e){return o[e]?void 0:(o[e]=!0,e)})}}}"undefined"==typeof walk?e.walk=o():console.log("Error defining 'walk': already defined.")}(this);